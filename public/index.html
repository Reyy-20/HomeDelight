<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<<<<<<< HEAD
    <title>Home Delight</title>
    <link rel="stylesheet" href="css/Syle.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo">Home Delight</a>
            
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#" >Marketplace</a></li>
                <li><a href="dashboard.html" >Dashboard</a></li>
            </ul>

            <div class="auth-buttons" id="authButtons">
                <a href="business-login.html" class="btn btn-secondary" >Iniciar Sesi√≥n</a>
                <a href="user-register.html" class="btn btn-primary" >Registrarse</a>
            </div>

            <div class="user-profile" id="userProfile">
                <img src="" alt="Perfil" class="profile-img" id="profileImg" onclick="toggleDropdown()">
                <div class="dropdown-menu" id="dropdownMenu">
                    <div class="dropdown-item" onclick="showPage('dashboard')">Dashboard</div>
                    <div class="dropdown-item" onclick="showPage('upload')">Subir Propiedad</div>
                    <div class="dropdown-item" onclick="logout()">Cerrar Sesi√≥n</div>
                </div>
            </div>

            <div class="mobile-menu" onclick="toggleMobileMenu()">
                <div class="hamburger"></div>
                <div class="hamburger"></div>
                <div class="hamburger"></div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div id="mainContent">
        <!-- INDEX PAGE -->
        <div id="indexPage" class="page">
=======
    <title>Home Page</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,600&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/Style.css">
     <link rel="stylesheet" href="css/Header.css">
</head>
<body>
    <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-container">
                <a href="#" class="logo">Home Delight</a>
                <ul class="nav-links">
                    <li><a href="#" class="nav-link active">Inicio</a></li>
                    <li><a href="Marketplace.html" class="nav-link">Marketplace</a></li>
                    <li><a href="ContactUs.html" class="nav-link">ContactUs</a></li>
                    <li><a href="AboutUs.html" class="nav-link">AboutUs</a></li>
                    <li><a href="#" class="nav-link">LogIn/register</a></li>
                </ul>
            </div>
        </nav>
        <!-- Home Page -->
        <div id="home" class="page active">
>>>>>>> 1b881f505320ae12898df09b1112dfe1b9571c4f
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-content">
                    <h1>Encuentra tu hogar ideal</h1>
<<<<<<< HEAD
                    <p>La plataforma inmobiliaria m√°s completa donde propietarios y compradores se conectan</p>
                    <a href="#" class="btn btn-primary" onclick="showPage('marketplace')">Explorar Propiedades</a>
                </div>
            </section>

            <!-- Recent Properties Carousel -->
            <section class="carousel-section">
                <h2 class="section-title">Propiedades Recientes</h2>
                <div class="carousel-container">
                    <div class="carousel-track" id="carouselTrack">
                        <div class="loading">
                            <div class="spinner"></div>
                        </div>
                    </div>
                    <button class="carousel-nav carousel-prev" onclick="prevSlide()">&lt;</button>
                    <button class="carousel-nav carousel-next" onclick="nextSlide()">&gt;</button>
                </div>
                <div class="carousel-indicators" id="carouselIndicators"></div>
=======
                    <p>Descubre propiedades excepcionales con nuestra plataforma de bienes ra√≠ces premium</p>
                    <div class="hero-buttons">
                        <a href="#marketplace" class="btn btn-primary nav-link">
                            <i class="fas fa-search"></i>
                            Explorar Propiedades
                        </a>
                        <a href="#upload" class="btn btn-outline nav-link">
                            <i class="fas fa-plus"></i>
                            Publicar Propiedad
                        </a>
                    </div>
                </div>
            </section>

            <!-- Stats Section -->
            <section class="stats">
                <div class="container">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="stat-number">250+</div>
                            <div class="stat-label">Propiedades Disponibles</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="stat-number">50+</div>
                            <div class="stat-label">Ubicaciones √önicas</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-number">1,200+</div>
                            <div class="stat-label">Usuarios Activos</div>
                        </div>
                    </div>
                </div>
>>>>>>> 1b881f505320ae12898df09b1112dfe1b9571c4f
            </section>

            <!-- Features Section -->
            <section class="features">
<<<<<<< HEAD
                <div class="features-container">
                    <div class="feature-card">
                        <div class="feature-icon">üè†</div>
                        <h3>Amplia Variedad</h3>
                        <p>Encuentra desde casas grandes hasta departamentos modernos en las mejores ubicaciones</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîç</div>
                        <h3>B√∫squeda Avanzada</h3>
                        <p>Filtros inteligentes para encontrar exactamente lo que buscas</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üíº</div>
                        <h3>Para Empresas</h3>
                        <p>Herramientas especializadas para inmobiliarias y desarrolladores</p>
=======
                <div class="container">
                    <div class="section-header">
                        <h2>¬øPor qu√© elegir Home Delight?</h2>
                        <p>Ofrecemos la mejor experiencia en bienes ra√≠ces con tecnolog√≠a de vanguardia y un servicio
                            personalizado de primera clase.</p>
                    </div>
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <h3>B√∫squeda Avanzada</h3>
                            <p>Encuentra la propiedad perfecta con nuestros filtros inteligentes</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-award"></i>
                            </div>
                            <h3>Calidad Premium</h3>
                            <p>Solo las mejores propiedades seleccionadas cuidadosamente</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <h3>Comunidad Confiable</h3>
                            <p>Conecta con propietarios y empresas verificadas</p>
                        </div>
>>>>>>> 1b881f505320ae12898df09b1112dfe1b9571c4f
                    </div>
                </div>
            </section>
        </div>

<<<<<<< HEAD
        <!-- MARKETPLACE PAGE -->
        <div id="marketplacePage" class="page" style="display: none;">
            <div style="padding-top: 80px; min-height: 100vh;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 2rem;">
                    <h1 class="section-title">Marketplace</h1>
                    
                    <!-- Filters -->
                    <div style="background: white; padding: 2rem; border-radius: 15px; margin-bottom: 2rem; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 1rem;">
                            <input type="text" id="searchInput" placeholder="Buscar por nombre..." style="padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                            <input type="text" id="locationFilter" placeholder="Filtrar por ubicaci√≥n..." style="padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                            <input type="number" id="minPrice" placeholder="Precio m√≠nimo" style="padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                            <input type="number" id="maxPrice" placeholder="Precio m√°ximo" style="padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <select id="categoryFilter" style="padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                                <option value="">Todas las categor√≠as</option>
                                <option value="casa-grande">Casas Grandes</option>
                                <option value="casa-peque√±a">Casas Peque√±as</option>
                                <option value="departamento">Departamentos</option>
                            </select>
                            <button onclick="applyFilters()" class="btn btn-primary">Aplicar Filtros</button>
                            <button onclick="clearFilters()" class="btn btn-secondary">Limpiar</button>
                        </div>
                    </div>

                    <!-- Properties Grid -->
                    <div id="propertiesGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem;">
                        <div class="loading">
                            <div class="spinner"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- DASHBOARD PAGE -->
        <div id="dashboardPage" class="page" style="display: none;">
            <div style="padding-top: 80px; min-height: 100vh;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 2rem;">
                    <h1 class="section-title">Mi Dashboard</h1>
                    
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                        <h2>Mis Propiedades</h2>
                        <button onclick="showPage('upload')" class="btn btn-primary">Subir Nueva Propiedad</button>
                    </div>

                    <div id="userPropertiesGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem;">
                        <div class="loading">
                            <div class="spinner"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- UPLOAD PAGE -->
        <div id="uploadPage" class="page" style="display: none;">
            <div style="padding-top: 80px; min-height: 100vh;">
                <div style="max-width: 600px; margin: 0 auto; padding: 2rem;">
                    <h1 class="section-title">Subir Nueva Propiedad</h1>
                    
                    <form id="uploadForm" style="background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Nombre de la Propiedad</label>
                            <input type="text" id="propertyName" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Descripci√≥n</label>
                            <textarea id="propertyDescription" required rows="4" style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px; resize: vertical;"></textarea>
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Precio (USD)</label>
                            <input type="number" id="propertyPrice" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Ubicaci√≥n</label>
                            <input type="text" id="propertyLocation" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Categor√≠a</label>
                            <select id="propertyCategory" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                                <option value="">Seleccionar categor√≠a</option>
                                <option value="casa-grande">Casa Grande</option>
                                <option value="casa-peque√±a">Casa Peque√±a</option>
                                <option value="departamento">Departamento</option>
                            </select>
                        </div>

                        <div style="margin-bottom: 2rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">URL de Imagen (ImageBB)</label>
                            <input type="url" id="propertyImage" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                            <small style="color: var(--gris-medio);">Sube tu imagen a ImageBB y pega el enlace directo aqu√≠</small>
                        </div>

                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem;">Publicar Propiedad</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- LOGIN PAGE -->
        <div id="userLoginPage" class="page" style="display: none;">
            <div style="padding-top: 80px; min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                <div style="background: white; padding: 3rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 400px;">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--negro);">Iniciar Sesi√≥n</h2>
                    
                    <form id="loginForm">
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Email</label>
                            <input type="email" id="loginEmail" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 2rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Contrase√±a</label>
                            <input type="password" id="loginPassword" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem; margin-bottom: 1rem;">Iniciar Sesi√≥n</button>
                    </form>

                    <div style="text-align: center;">
                        <p>¬øNo tienes cuenta? <a href="#" onclick="showPage('user-register')" style="color: var(--dorado);">Reg√≠strate aqu√≠</a></p>
                        <p style="margin-top: 1rem;">¬øEres una empresa? <a href="#" onclick="showPage('business-login')" style="color: var(--dorado);">Login empresarial</a></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- REGISTER PAGE -->
        <div id="userRegisterPage" class="page" style="display: none;">
            <div style="padding-top: 80px; min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                <div style="background: white; padding: 3rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 400px;">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--negro);">Registrarse</h2>
                    
                    <form id="registerForm">
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Nombre Completo</label>
                            <input type="text" id="registerName" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Email</label>
                            <input type="email" id="registerEmail" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Contrase√±a</label>
                            <input type="password" id="registerPassword" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 2rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">URL Foto de Perfil (ImageBB)</label>
                            <input type="url" id="registerPhoto" style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                            <small style="color: var(--gris-medio);">Opcional - Sube tu foto a ImageBB</small>
                        </div>

                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem; margin-bottom: 1rem;">Registrarse</button>
                    </form>

                    <div style="text-align: center;">
                        <p>¬øYa tienes cuenta? <a href="#" onclick="showPage('user-login')" style="color: var(--dorado);">Inicia sesi√≥n aqu√≠</a></p>
                        <p style="margin-top: 1rem;">¬øEres una empresa? <a href="#" onclick="showPage('business-register')" style="color: var(--dorado);">Registro empresarial</a></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- BUSINESS REGISTER PAGE -->
        <div id="businessRegisterPage" class="page" style="display: none;">
            <div style="padding-top: 80px; min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                <div style="background: white; padding: 3rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 500px;">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--negro);">Registro Empresarial</h2>
                    
                    <form id="businessRegisterForm">
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Nombre de la Empresa</label>
                            <input type="text" id="businessRegisterName" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Email Empresarial</label>
                            <input type="email" id="businessRegisterEmail" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Contrase√±a</label>
                            <input type="password" id="businessRegisterPassword" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">RUC/NIT Empresarial</label>
                            <input type="text" id="businessRuc" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 2rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Logo de la Empresa (ImageBB)</label>
                            <input type="url" id="businessRegisterPhoto" style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                            <small style="color: var(--gris-medio);">Opcional - Sube el logo a ImageBB</small>
                        </div>

                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem; margin-bottom: 1rem;">Registrar Empresa</button>
                    </form>

                    <div style="text-align: center;">
                        <p>¬øYa tienes cuenta empresarial? <a href="#" onclick="showPage('business-login')" style="color: var(--dorado);">Inicia sesi√≥n aqu√≠</a></p>
                        <p style="margin-top: 1rem;">¬øEres usuario individual? <a href="#" onclick="showPage('user-register')" style="color: var(--dorado);">Registro de usuario</a></p>
                    </div>
                </div>
            </div>
        </div>

        <!-- BUSINESS LOGIN PAGE -->
        <div id="businessLoginPage" class="page" style="display: none;">
            <div style="padding-top: 80px; min-height: 100vh; display: flex; align-items: center; justify-content: center;">
                <div style="background: white; padding: 3rem; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 400px;">
                    <h2 style="text-align: center; margin-bottom: 2rem; color: var(--negro);">Login Empresarial</h2>
                    
                    <form id="businessLoginForm">
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Email Empresarial</label>
                            <input type="email" id="businessLoginEmail" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <div style="margin-bottom: 2rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Contrase√±a</label>
                            <input type="password" id="businessLoginPassword" required style="width: 100%; padding: 0.8rem; border: 1px solid var(--gris-claro); border-radius: 5px;">
                        </div>

                        <button type="submit" class="btn btn-primary" style="width: 100%; padding: 1rem; margin-bottom: 1rem;">Iniciar Sesi√≥n</button>
                    </form>

                    <div style="text-align: center;">
                        <p>¬øNo tienes cuenta empresarial? <a href="#" onclick="showPage('business-register')" style="color: var(--dorado);">Reg√≠strate aqu√≠</a></p>
                        <p style="margin-top: 1rem;">¬øEres usuario individual? <a href="#" onclick="showPage('user-login')" style="color: var(--dorado);">Login de usuario</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-section">
                <h3>InmoPlaza</h3>
                <p>La plataforma inmobiliaria m√°s completa donde propietarios y compradores se conectan.</p>
            </div>
            <div class="footer-section">
                <h3>Enlaces</h3>
                <p><a href="#" onclick="showPage('index')" style="color: var(--blanco-calido); text-decoration: none;">Inicio</a></p>
                <p><a href="#" onclick="showPage('marketplace')" style="color: var(--blanco-calido); text-decoration: none;">Marketplace</a></p>
                <p><a href="#" onclick="showPage('dashboard')" style="color: var(--blanco-calido); text-decoration: none;">Dashboard</a></p>
            </div>
            <div class="footer-section">
                <h3>Contacto</h3>
                <p>Email: info@inmoplaza.com</p>
                <p>Tel√©fono: +507 1234-5678</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 InmoPlaza. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- Firebase Configuration -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, collection, addDoc, getDocs, query, where, orderBy, limit, doc, setDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Your web app's Firebase configuration
        const firebaseConfig = {
            // Reemplaza con tu configuraci√≥n de Firebase
            apiKey: "tu-api-key",
            authDomain: "tu-proyecto.firebaseapp.com",
            projectId: "tu-proyecto-id",
            storageBucket: "tu-proyecto.appspot.com",
            messagingSenderId: "123456789",
            appId: "tu-app-id"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // Global variables
        window.auth = auth;
        window.db = db;
        window.currentUser = null;
        window.currentSlide = 0;
        window.properties = [];
        window.filteredProperties = [];

        // Authentication State Observer
        onAuthStateChanged(auth, (user) => {
            if (user) {
                window.currentUser = user;
                updateNavbar(true);
                loadUserProfile();
            } else {
                window.currentUser = null;
                updateNavbar(false);
            }
        });

        // Load user profile
        async function loadUserProfile() {
            if (window.currentUser) {
                try {
                    const userDoc = await getDocs(query(collection(db, 'users'), where('uid', '==', window.currentUser.uid)));
                    if (!userDoc.empty) {
                        const userData = userDoc.docs[0].data();
                        document.getElementById('profileImg').src = userData.fotoPerfilURL || 'https://via.placeholder.com/40';
                    }
                } catch (error) {
                    console.error('Error loading user profile:', error);
                }
            }
        }

        // Update navbar based on auth state
        function updateNavbar(isLoggedIn) {
            const authButtons = document.getElementById('authButtons');
            const userProfile = document.getElementById('userProfile');
            
            if (isLoggedIn) {
                authButtons.style.display = 'none';
                userProfile.style.display = 'block';
            } else {
                authButtons.style.display = 'flex';
                userProfile.style.display = 'none';
            }
        }

        // Page navigation
        window.showPage = function(pageName) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.style.display = 'none');
            
            // Show selected page
            const targetPage = document.getElementById(pageName + 'Page');
            if (targetPage) {
                targetPage.style.display = 'block';
                
                // Load page-specific content
                if (pageName === 'index') {
                    loadRecentProperties();
                } else if (pageName === 'marketplace') {
                    loadAllProperties();
                } else if (pageName === 'dashboard') {
                    if (!window.currentUser) {
                        showPage('user-login');
                        return;
                    }
                    loadUserProperties();
                }
            }
        };

        // User Registration
        document.getElementById('registerForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const photoURL = document.getElementById('registerPhoto').value || 'https://via.placeholder.com/40';

            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;

                // Save user data to Firestore
                await setDoc(doc(db, 'users', user.uid), {
                    uid: user.uid,
                    nombre: name,
                    correo: email,
                    fotoPerfilURL: photoURL,
                    empresa: 'no',
                    fechaRegistro: new Date()
                });

                alert('Registro exitoso!');
                showPage('index');
            } catch (error) {
                alert('Error en el registro: ' + error.message);
            }
        });

        // Business Registration
        document.getElementById('businessRegisterForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('businessRegisterName').value;
            const email = document.getElementById('businessRegisterEmail').value;
            const password = document.getElementById('businessRegisterPassword').value;
            const ruc = document.getElementById('businessRuc').value;
            const photoURL = document.getElementById('businessRegisterPhoto').value || 'https://via.placeholder.com/40';

            try {
                const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                const user = userCredential.user;

                // Save business data to Firestore
                await setDoc(doc(db, 'users', user.uid), {
                    uid: user.uid,
                    nombre: name,
                    correo: email,
                    fotoPerfilURL: photoURL,
                    empresa: 's√≠',
                    ruc: ruc,
                    fechaRegistro: new Date()
                });

                alert('Registro empresarial exitoso!');
                showPage('index');
            } catch (error) {
                alert('Error en el registro: ' + error.message);
            }
        });

        // User Login
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                alert('Inicio de sesi√≥n exitoso!');
                showPage('index');
            } catch (error) {
                alert('Error en el inicio de sesi√≥n: ' + error.message);
            }
        });

        // Business Login
        document.getElementById('businessLoginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('businessLoginEmail').value;
            const password = document.getElementById('businessLoginPassword').value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                alert('Inicio de sesi√≥n empresarial exitoso!');
                showPage('index');
            } catch (error) {
                alert('Error en el inicio de sesi√≥n: ' + error.message);
            }
        });

        // Property Upload
        document.getElementById('uploadForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!window.currentUser) {
                alert('Debes iniciar sesi√≥n para subir propiedades');
                return;
            }

            const propertyData = {
                nombre: document.getElementById('propertyName').value,
                descripcion: document.getElementById('propertyDescription').value,
                precio: parseFloat(document.getElementById('propertyPrice').value),
                ubicacion: document.getElementById('propertyLocation').value,
                categoria: document.getElementById('propertyCategory').value,
                imagenURL: document.getElementById('propertyImage').value,
                creadorUID: window.currentUser.uid,
                timestamp: new Date()
            };

            try {
                await addDoc(collection(db, 'propiedades'), propertyData);
                alert('Propiedad subida exitosamente!');
                document.getElementById('uploadForm').reset();
                showPage('dashboard');
            } catch (error) {
                alert('Error al subir la propiedad: ' + error.message);
            }
        });

        // Load recent properties for carousel
        window.loadRecentProperties = async function() {
            try {
                const q = query(collection(db, 'propiedades'), orderBy('timestamp', 'desc'), limit(5));
                const querySnapshot = await getDocs(q);
                const properties = [];
                
                querySnapshot.forEach((doc) => {
                    properties.push({ id: doc.id, ...doc.data() });
                });

                displayCarousel(properties);
            } catch (error) {
                console.error('Error loading recent properties:', error);
                document.getElementById('carouselTrack').innerHTML = '<div style="padding: 2rem; text-align: center;">Error al cargar propiedades</div>';
            }
        };

        // Display carousel
        function displayCarousel(properties) {
            const track = document.getElementById('carouselTrack');
            const indicators = document.getElementById('carouselIndicators');
            
            if (properties.length === 0) {
                track.innerHTML = '<div style="padding: 2rem; text-align: center; color: var(--gris-medio);">No hay propiedades disponibles</div>';
                return;
            }

            track.innerHTML = properties.map(property => `
                <div class="property-card" style="background-image: url('${property.imagenURL}');">
                    <div class="property-info">
                        <div class="property-name">${property.nombre}</div>
                        <div class="property-location">üìç ${property.ubicacion}</div>
                        <div class="property-price">${property.precio.toLocaleString()}</div>
                    </div>
                </div>
            `).join('');

            indicators.innerHTML = properties.map((_, index) => `
                <div class="indicator ${index === 0 ? 'active' : ''}" onclick="goToSlide(${index})"></div>
            `).join('');

            window.totalSlides = properties.length;
            window.currentSlide = 0;
        }

        // Load all properties for marketplace
        window.loadAllProperties = async function() {
            try {
                const querySnapshot = await getDocs(collection(db, 'propiedades'));
                window.properties = [];
                
                querySnapshot.forEach((doc) => {
                    window.properties.push({ id: doc.id, ...doc.data() });
                });

                window.filteredProperties = [...window.properties];
                displayProperties(window.filteredProperties);
            } catch (error) {
                console.error('Error loading properties:', error);
                document.getElementById('propertiesGrid').innerHTML = '<div style="padding: 2rem; text-align: center;">Error al cargar propiedades</div>';
            }
        };

        // Load user properties for dashboard
        window.loadUserProperties = async function() {
            if (!window.currentUser) return;

            try {
                const q = query(collection(db, 'propiedades'), where('creadorUID', '==', window.currentUser.uid));
                const querySnapshot = await getDocs(q);
                const userProperties = [];
                
                querySnapshot.forEach((doc) => {
                    userProperties.push({ id: doc.id, ...doc.data() });
                });

                displayUserProperties(userProperties);
            } catch (error) {
                console.error('Error loading user properties:', error);
                document.getElementById('userPropertiesGrid').innerHTML = '<div style="padding: 2rem; text-align: center;">Error al cargar tus propiedades</div>';
            }
        };

        // Display properties in marketplace
        function displayProperties(properties) {
            const grid = document.getElementById('propertiesGrid');
            
            if (properties.length === 0) {
                grid.innerHTML = '<div style="padding: 2rem; text-align: center; color: var(--gris-medio); grid-column: 1 / -1;">No se encontraron propiedades</div>';
                return;
            }

            grid.innerHTML = properties.map(property => `
                <div class="property-card-grid" style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease; animation: fadeInUp 0.6s ease-out;">
                    <div style="height: 200px; background-image: url('${property.imagenURL}'); background-size: cover; background-position: center;"></div>
                    <div style="padding: 1.5rem;">
                        <h3 style="color: var(--negro); margin-bottom: 0.5rem; font-size: 1.2rem;">${property.nombre}</h3>
                        <p style="color: var(--gris-medio); margin-bottom: 1rem; font-size: 0.9rem;">${property.descripcion.substring(0, 100)}...</p>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <span style="color: var(--dorado); font-weight: bold;">üìç ${property.ubicacion}</span>
                            <span style="background: var(--dorado); color: white; padding: 0.2rem 0.5rem; border-radius: 10px; font-size: 0.8rem;">${property.categoria}</span>
                        </div>
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--negro);">${property.precio.toLocaleString()}</div>
                    </div>
                </div>
            `).join('');

            // Add hover effects
            const cards = grid.querySelectorAll('.property-card-grid');
            cards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-10px)';
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0)';
                });
            });
        }

        // Display user properties in dashboard
        function displayUserProperties(properties) {
            const grid = document.getElementById('userPropertiesGrid');
            
            if (properties.length === 0) {
                grid.innerHTML = '<div style="padding: 2rem; text-align: center; color: var(--gris-medio); grid-column: 1 / -1;">No has subido propiedades a√∫n</div>';
                return;
            }

            grid.innerHTML = properties.map(property => `
                <div class="property-card-grid" style="background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); transition: transform 0.3s ease;">
                    <div style="height: 200px; background-image: url('${property.imagenURL}'); background-size: cover; background-position: center;"></div>
                    <div style="padding: 1.5rem;">
                        <h3 style="color: var(--negro); margin-bottom: 0.5rem;">${property.nombre}</h3>
                        <p style="color: var(--gris-medio); margin-bottom: 1rem; font-size: 0.9rem;">${property.descripcion.substring(0, 100)}...</p>
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <span style="color: var(--dorado);">üìç ${property.ubicacion}</span>
                            <span style="background: var(--dorado); color: white; padding: 0.2rem 0.5rem; border-radius: 10px; font-size: 0.8rem;">${property.categoria}</span>
                        </div>
                        <div style="font-size: 1.3rem; font-weight: bold; color: var(--negro); margin-bottom: 1rem;">${property.precio.toLocaleString()}</div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button onclick="editProperty('${property.id}')" class="btn btn-secondary" style="flex: 1; padding: 0.5rem;">Editar</button>
                            <button onclick="deleteProperty('${property.id}')" class="btn" style="flex: 1; padding: 0.5rem; background: #dc3545; color: white;">Eliminar</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Carousel navigation
        window.nextSlide = function() {
            if (window.totalSlides) {
                window.currentSlide = (window.currentSlide + 1) % window.totalSlides;
                updateCarousel();
            }
        };

        window.prevSlide = function() {
            if (window.totalSlides) {
                window.currentSlide = window.currentSlide === 0 ? window.totalSlides - 1 : window.currentSlide - 1;
                updateCarousel();
            }
        };

        window.goToSlide = function(index) {
            window.currentSlide = index;
            updateCarousel();
        };

        function updateCarousel() {
            const track = document.getElementById('carouselTrack');
            const indicators = document.querySelectorAll('.indicator');
            
            track.style.transform = `translateX(-${window.currentSlide * 100}%)`;
            
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === window.currentSlide);
            });
        }

        // Auto-advance carousel
        setInterval(() => {
            if (window.totalSlides > 1) {
                nextSlide();
            }
        }, 5000);

        // Filters
        window.applyFilters = function() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const locationFilter = document.getElementById('locationFilter').value.toLowerCase();
            const minPrice = parseFloat(document.getElementById('minPrice').value) || 0;
            const maxPrice = parseFloat(document.getElementById('maxPrice').value) || Infinity;
            const categoryFilter = document.getElementById('categoryFilter').value;

            window.filteredProperties = window.properties.filter(property => {
                const matchesSearch = property.nombre.toLowerCase().includes(searchTerm);
                const matchesLocation = property.ubicacion.toLowerCase().includes(locationFilter);
                const matchesPrice = property.precio >= minPrice && property.precio <= maxPrice;
                const matchesCategory = !categoryFilter || property.categoria === categoryFilter;

                return matchesSearch && matchesLocation && matchesPrice && matchesCategory;
            });

            displayProperties(window.filteredProperties);
        };

        window.clearFilters = function() {
            document.getElementById('searchInput').value = '';
            document.getElementById('locationFilter').value = '';
            document.getElementById('minPrice').value = '';
            document.getElementById('maxPrice').value = '';
            document.getElementById('categoryFilter').value = '';
            
            window.filteredProperties = [...window.properties];
            displayProperties(window.filteredProperties);
        };

        // Utility functions
        window.toggleDropdown = function() {
            const dropdown = document.getElementById('dropdownMenu');
            dropdown.classList.toggle('show');
        };

        window.toggleMobileMenu = function() {
            // Mobile menu functionality can be implemented here
            console.log('Mobile menu toggled');
        };

        window.logout = async function() {
            try {
                await signOut(auth);
                alert('Sesi√≥n cerrada exitosamente');
                showPage('index');
            } catch (error) {
                alert('Error al cerrar sesi√≥n: ' + error.message);
            }
        };

        window.editProperty = function(propertyId) {
            alert('Funci√≥n de edici√≥n en desarrollo');
        };

        window.deleteProperty = function(propertyId) {
            if (confirm('¬øEst√°s seguro de que quieres eliminar esta propiedad?')) {
                // Delete functionality would be implemented here
                alert('Funci√≥n de eliminaci√≥n en desarrollo');
            }
        };

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.getElementById('dropdownMenu');
            const profileImg = document.getElementById('profileImg');
            
            if (!profileImg.contains(event.target)) {
                dropdown.classList.remove('show');
            }
        });

        // Initialize the app
        showPage('index');
    </script>
</body>
=======
        <!-- Login Modal -->
        <div id="loginModal" class="login-modal">
            <div class="login-modal-content">
                <button class="close-modal" onclick="closeLoginModal()">&times;</button>
                
                <!-- Login Options -->
                <div id="loginOptions" class="login-options-container">
                    <div class="login-modal-header">
                        <h2>Iniciar Sesi√≥n / Registro</h2>
                        <p>Elige el tipo de cuenta con el que quieres acceder</p>
                    </div>
                    
                    <div class="login-options">
                        <div class="login-option" onclick="showLoginForm('user-login')">
                            <div class="login-option-icon">üë§</div>
                            <h3>Cliente</h3>
                            <p>Accede a tu cuenta de cliente para explorar propiedades</p>
                        </div>
                        
                        <div class="login-option" onclick="showLoginForm('business-login')">
                            <div class="login-option-icon">üè¢</div>
                            <h3>Negocio</h3>
                            <p>Accede a tu cuenta de negocio para gestionar propiedades</p>
                        </div>
                        
                        <div class="login-option" onclick="showLoginForm('user-register')">
                            <div class="login-option-icon">üìù</div>
                            <h3>Registrar Cliente</h3>
                            <p>Crea una nueva cuenta de cliente</p>
                        </div>
                        
                        <div class="login-option" onclick="showLoginForm('business-register')">
                            <div class="login-option-icon">üèóÔ∏è</div>
                            <h3>Registrar Negocio</h3>
                            <p>Crea una nueva cuenta de negocio</p>
                        </div>
                    </div>
                </div>

                <!-- User Login Form -->
                <div id="user-login-form" class="login-form-container">
                    <button class="back-to-options" onclick="showLoginOptions()">‚Üê Volver a opciones</button>
                    <div class="login-modal-header">
                        <h2>Login de Cliente</h2>
                    </div>
                    <form id="userLoginForm">
                        <div>
                            <label for="user-email">Correo electr√≥nico:</label>
                            <input type="email" id="user-email" name="email" required>
                        </div>
                        <div>
                            <label for="user-password">Contrase√±a:</label>
                            <input type="password" id="user-password" name="password" required>
                        </div>
                        <button type="submit">Iniciar sesi√≥n</button>
                    </form>
                    <div id="user-login-error" style="color:#a0793d; margin-top:10px;"></div>
                </div>

                <!-- Business Login Form -->
                <div id="business-login-form" class="login-form-container">
                    <button class="back-to-options" onclick="showLoginOptions()">‚Üê Volver a opciones</button>
                    <div class="login-modal-header">
                        <h2>Login de Negocio</h2>
                    </div>
                    <form id="businessLoginForm">
                        <div>
                            <label for="business-email">Email:</label>
                            <input type="email" id="business-email" name="email" required>
                        </div>
                        <div>
                            <label for="business-password">Password:</label>
                            <input type="password" id="business-password" name="password" required>
                        </div>
                        <div>
                            <label for="business-phone">Phone Number:</label>
                            <input type="tel" id="business-phone" name="phone" required>
                        </div>
                        <button type="submit">Sign In</button>
                    </form>
                    <div id="business-login-error" style="color:#a0793d; margin-top:10px;"></div>
                </div>

                <!-- User Register Form -->
                <div id="user-register-form" class="login-form-container">
                    <button class="back-to-options" onclick="showLoginOptions()">‚Üê Volver a opciones</button>
                    <div class="login-modal-header">
                        <h2>Registro de Cliente</h2>
                    </div>
                    <form id="userRegisterForm">
                        <div>
                            <label for="user-reg-name">Nombre completo:</label>
                            <input type="text" id="user-reg-name" name="name" required>
                        </div>
                        <div>
                            <label for="user-reg-email">Correo electr√≥nico:</label>
                            <input type="email" id="user-reg-email" name="email" required>
                        </div>
                        <div>
                            <label for="user-reg-password">Contrase√±a:</label>
                            <input type="password" id="user-reg-password" name="password" required>
                        </div>
                        <div>
                            <label for="user-reg-phone">Tel√©fono:</label>
                            <input type="tel" id="user-reg-phone" name="phone" required>
                        </div>
                        <button type="submit">Registrarse</button>
                    </form>
                    <div id="user-register-error" style="color:#a0793d; margin-top:10px;"></div>
                </div>

                <!-- Business Register Form -->
                <div id="business-register-form" class="login-form-container">
                    <button class="back-to-options" onclick="showLoginOptions()">‚Üê Volver a opciones</button>
                    <div class="login-modal-header">
                        <h2>Registro de Negocio</h2>
                    </div>
                    <form id="businessRegisterForm">
                        <div>
                            <label for="business-reg-name">Business Name:</label>
                            <input type="text" id="business-reg-name" name="biz_name" required>
                        </div>
                        <div>
                            <label for="business-reg-email">Business Email:</label>
                            <input type="email" id="business-reg-email" name="biz_email" required>
                        </div>
                        <div>
                            <label for="business-reg-password">Password:</label>
                            <input type="password" id="business-reg-password" name="biz_password" required>
                        </div>
                        <div>
                            <label for="business-reg-phone">Business Phone:</label>
                            <input type="tel" id="business-reg-phone" name="biz_phone">
                        </div>
                        <div>
                            <label for="business-reg-address">Business Address:</label>
                            <input type="text" id="business-reg-address" name="biz_address">
                        </div>
                        <div>
                            <label for="business-reg-license">Business License Number:</label>
                            <input type="text" id="business-reg-license" name="biz_license">
                        </div>
                        <button type="submit">Register Business</button>
                    </form>
                    <div id="business-register-error" style="color:#a0793d; margin-top:10px;"></div>
                </div>
            </div>
        </div>

        <!-- Firebase SDK -->
        <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
        
        <!-- Authentication Scripts -->
        <script src="js/firebase-config.js"></script>
        <script src="js/firebase-error-handler.js"></script>
        <script src="js/auth.js"></script>
        <script src="js/notification.js"></script>

        <script>
            // Modal functionality
            function openLoginModal() {
                document.getElementById('loginModal').classList.add('show');
                showLoginOptions();
            }

            function closeLoginModal() {
                document.getElementById('loginModal').classList.remove('show');
                showLoginOptions();
            }

            function showLoginOptions() {
                document.getElementById('loginOptions').style.display = 'block';
                document.querySelectorAll('.login-form-container').forEach(form => {
                    form.classList.remove('active');
                });
            }

            function showLoginForm(formType) {
                document.getElementById('loginOptions').style.display = 'none';
                document.querySelectorAll('.login-form-container').forEach(form => {
                    form.classList.remove('active');
                });
                document.getElementById(formType + '-form').classList.add('active');
            }

            // Close modal when clicking outside
            document.getElementById('loginModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeLoginModal();
                }
            });

            // Add click event to "LogIn/register" link
            document.addEventListener('DOMContentLoaded', function() {
                const loginLink = document.querySelector('a[href="#"]:contains("LogIn/register")');
                if (!loginLink) {
                    // Try alternative selector
                    const loginLinks = document.querySelectorAll('.nav-link');
                    loginLinks.forEach(link => {
                        if (link.textContent.trim() === 'LogIn/register') {
                            link.addEventListener('click', function(e) {
                                e.preventDefault();
                                openLoginModal();
                            });
                        }
                    });
                } else {
                    loginLink.addEventListener('click', function(e) {
                        e.preventDefault();
                        openLoginModal();
                    });
                }
            });

            // Form submissions
            document.getElementById('userLoginForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('user-email').value;
                const password = document.getElementById('user-password').value;
                const errorDiv = document.getElementById('user-login-error');
                
                try {
                    const result = await authManager.login(email, password);
                    if (result.success) {
                        notificationManager.showSuccess('¬°Inicio de sesi√≥n exitoso!');
                        closeLoginModal();
                        setTimeout(() => {
                            window.location.href = 'index.html';
                        }, 2000);
                    } else {
                        errorDiv.textContent = result.error;
                    }
                } catch (error) {
                    errorDiv.textContent = 'Error durante el inicio de sesi√≥n. Por favor, int√©ntalo de nuevo.';
                }
            });

            document.getElementById('businessLoginForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const email = document.getElementById('business-email').value;
                const password = document.getElementById('business-password').value;
                const errorDiv = document.getElementById('business-login-error');
                
                try {
                    const result = await authManager.login(email, password);
                    if (result.success) {
                        notificationManager.showSuccess('¬°Inicio de sesi√≥n exitoso!');
                        closeLoginModal();
                        setTimeout(() => {
                            window.location.href = 'index.html';
                        }, 2000);
                    } else {
                        errorDiv.textContent = result.error;
                    }
                } catch (error) {
                    errorDiv.textContent = 'Error durante el inicio de sesi√≥n. Por favor, int√©ntalo de nuevo.';
                }
            });

            document.getElementById('userRegisterForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const name = document.getElementById('user-reg-name').value;
                const email = document.getElementById('user-reg-email').value;
                const password = document.getElementById('user-reg-password').value;
                const phone = document.getElementById('user-reg-phone').value;
                const errorDiv = document.getElementById('user-register-error');
                
                try {
                    const result = await authManager.register(email, password, { name, phone });
                    if (result.success) {
                        notificationManager.showSuccess('¬°Registro exitoso!');
                        closeLoginModal();
                        setTimeout(() => {
                            window.location.href = 'index.html';
                        }, 2000);
                    } else {
                        errorDiv.textContent = result.error;
                    }
                } catch (error) {
                    errorDiv.textContent = 'Error durante el registro. Por favor, int√©ntalo de nuevo.';
                }
            });

            document.getElementById('businessRegisterForm').addEventListener('submit', async (e) => {
                e.preventDefault();
                const bizName = document.getElementById('business-reg-name').value;
                const email = document.getElementById('business-reg-email').value;
                const password = document.getElementById('business-reg-password').value;
                const phone = document.getElementById('business-reg-phone').value;
                const address = document.getElementById('business-reg-address').value;
                const license = document.getElementById('business-reg-license').value;
                const errorDiv = document.getElementById('business-register-error');
                
                try {
                    const result = await authManager.register(email, password, { 
                        bizName, phone, address, license 
                    });
                    if (result.success) {
                        notificationManager.showSuccess('¬°Registro de negocio exitoso!');
                        closeLoginModal();
                        setTimeout(() => {
                            window.location.href = 'index.html';
                        }, 2000);
                    } else {
                        errorDiv.textContent = result.error;
                    }
                } catch (error) {
                    errorDiv.textContent = 'Error durante el registro. Por favor, int√©ntalo de nuevo.';
                }
            });
        </script>}
        <!-- Pricing Section -->
        <section id="pricing" class="pricing">
            <div class="container">
                <div class="section-header">
                    <h2>Planes Individuales</h2>
                    <p>Elige el plan que mejor se adapte a tus necesidades de bienes ra√≠ces</p>
                </div>
                <div class="pricing-grid">
                    <!-- Hobby Plan -->
                    <div class="pricing-card">
                        <div class="pricing-header">
                            <h3>B√°sico</h3>
                            <div class="pricing-price">
                                <span class="price">Gratis</span>
                            </div>
                        </div>
                        <div class="pricing-features">
                            <h4>Incluye:</h4>
                            <ul>
                                <li><i class="bi bi-check"></i>Prueba gratuita de dos semanas</li>
                                <li><i class="bi bi-check"></i>B√∫squedas limitadas de propiedades</li>
                                <li><i class="bi bi-check"></i>Acceso b√°sico al marketplace</li>
                            </ul>
                        </div>
                        <div class="pricing-actions">
                            <button class="btn btn-primary">Descargar</button>
                            <button class="btn btn-outline-secondary">Otros</button>
                        </div>
                    </div>

                    <!-- Pro Plan -->
                    <div class="pricing-card featured">
                        <div class="pricing-header">
                            <h3>Profesional</h3>
                            <div class="pricing-price">
                                <span class="price">$20</span>
                                <span class="period">/mes</span>
                            </div>
                        </div>
                        <div class="pricing-features">
                            <h4>Todo lo de B√°sico, m√°s:</h4>
                            <ul>
                                <li><i class="bi bi-check"></i>B√∫squedas ilimitadas de propiedades</li>
                                <li><i class="bi bi-check"></i>Acceso completo al marketplace</li>
                                <li><i class="bi bi-check"></i>Contacto directo con agentes</li>
                                <li><i class="bi bi-check"></i>Notificaciones personalizadas</li>
                                <li><i class="bi bi-check"></i>Acceso a propiedades premium</li>
                            </ul>
                        </div>
                        <div class="pricing-actions">
                            <button class="btn btn-primary">Obtener Pro</button>
                            <div class="more-info">
                                <span>M√°s informaci√≥n</span>
                                <i class="bi bi-arrow-up-right"></i>
                            </div>
                        </div>
                        <div class="featured-gradient"></div>
                    </div>

                    <!-- Ultra Plan -->
                    <div class="pricing-card">
                        <div class="pricing-header">
                            <h3>Ultra</h3>
                            <div class="pricing-price">
                                <span class="price">$200</span>
                                <span class="period">/mes</span>
                            </div>
                        </div>
                        <div class="pricing-features">
                            <h4>Todo lo de Profesional, m√°s:</h4>
                            <ul>
                                <li><i class="bi bi-check"></i>20x m√°s propiedades exclusivas</li>
                                <li><i class="bi bi-check"></i>Acceso prioritario a nuevas propiedades</li>
                                <li><i class="bi bi-check"></i>Asesor√≠a personalizada 24/7</li>
                                <li><i class="bi bi-check"></i>Vista previa de propiedades antes del lanzamiento</li>
                            </ul>
                        </div>
                        <div class="pricing-actions">
                            <button class="btn btn-primary">Obtener Ultra</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </body>

>>>>>>> 1b881f505320ae12898df09b1112dfe1b9571c4f
</html>