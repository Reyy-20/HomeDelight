<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketplace</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,600&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/Marketplace.css">
    <link rel="stylesheet" href="css/Header.css">
    <link rel="stylesheet" href="css/chatbot.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">Home Delight</a>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-link active">Inicio</a></li>
                <li><a href="Marketplace.html" class="nav-link">Marketplace</a></li>
                <li><a href="ContactUs.html" class="nav-link">ContactUs</a></li>
                <li><a href="AboutUs.html" class="nav-link">AboutUs</a></li>
                <li><a href="login&register2.html" class="nav-link">LogIn/register</a></li>
            </ul>
        </div>
    </nav>
    <!-- Filtros -->
    <section>
        <form class="filters" id="filtersForm" autocomplete="off" onsubmit="return false;">
            <div class="filters-row">
                <div class="filter-group">
                    <label for="filtroUbicacion">Ubicación</label>
                    <select id="filtroUbicacion">
                        <option value="">Todas</option>
                        <option value="Albrook">Albrook</option>
                        <option value="Costa Sur">Costa Sur</option>
                        <option value="Punta Barco">Punta Barco</option>
                        <option value="San Francisco">San Francisco</option>
                        <option value="Costa del Este">Costa del Este</option>
                        <option value="Tumba Muerto">Tumba Muerto</option>
                        <option value="Brisas del Golf">Brisas del Golf</option>
                        <option value="Avenida Balboa">Avenida Balboa</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filtroPrecioMin">Precio Mínimo (B/.)</label>
                    <input type="number" id="filtroPrecioMin" min="0" placeholder="Mínimo">
                </div>
                <div class="filter-group">
                    <label for="filtroPrecioMax">Precio Máximo (B/.)</label>
                    <input type="number" id="filtroPrecioMax" min="0" placeholder="Máximo">
                </div>
                <div class="filter-group">
                    <label for="filtroTipo">Tipo de propiedad</label>
                    <select id="filtroTipo">
                        <option value="">Todos</option>
                        <option>Casa</option>
                        <option>PH</option>
                        <option>Departamento</option>
                    </select>
                </div>
            </div>
        </form>
    </section>
    <!-- Cards -->
    <div class="cards-container" id="cardsContainer">
        <!-- Card 1 -->
        <a href="Properties.html?property=casa-el-roble" class="property-card" data-ubicacion="Albrook" data-precio="395000">
            <img src="https://i.pinimg.com/originals/95/4b/fc/954bfce34fb3b0ae957d87eec22b0843.jpg"
                class="property-image" alt="Casa El Roble">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 395,000
                        <span class="rebajado">Rebajado 3%</span>
                    </div>
                </div>
                <div class="property-title">Casa El Roble</div>
                <div class="property-desc">Casa familiar con amplio jardín y árboles centenarios.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 3</span>
                    <span><i class="bi bi-badge-wc"></i> 2</span>
                    <span><i class="bi bi-aspect-ratio"></i> 306 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Albrook</span>
                    <span><i class="bi bi-calendar"></i> 2018</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 27</span>
                </div>
            </div>
        </a>
        <!-- Card 2 -->
        <a href="Properties.html?property=villa-serena" class="property-card" data-ubicacion="Costa Sur" data-precio="520000">
            <img src="https://images.unsplash.com/photo-1512918728675-ed5a9ecdebfd?auto=format&fit=crop&w=600&q=80"
                class="property-image" alt="Villa Serena">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 520,000
                        <span class="rebajado">Rebajado 6%</span>
                    </div>
                </div>
                <div class="property-title">Villa Serena</div>
                <div class="property-desc">Ambientes abiertos, piscina privada y zona de BBQ.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 4</span>
                    <span><i class="bi bi-badge-wc"></i> 4</span>
                    <span><i class="bi bi-aspect-ratio"></i> 350 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Costa Sur</span>
                    <span><i class="bi bi-calendar"></i> 2019</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 21</span>
                </div>
            </div>
        </a>
        <!-- Card 3 -->
        <a href="Properties.html?property=villa-sol-y-mar" class="property-card" data-ubicacion="Punta Barco" data-precio="420000">
            <img src="https://armoniapanama.com/wp-content/uploads/2025/05/armonia-2-848x450.webp"
                class="property-image" alt="Villa Sol y Mar">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 420,000
                        <span class="rebajado">Rebajado 3%</span>
                    </div>
                </div>
                <div class="property-title">Villa Sol y Mar</div>
                <div class="property-desc">Residencia frente al mar con piscina y terraza panorámica.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 4</span>
                    <span><i class="bi bi-badge-wc"></i> 5</span>
                    <span><i class="bi bi-aspect-ratio"></i> 380 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Punta Barco</span>
                    <span><i class="bi bi-calendar"></i> 2020</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 34</span>
                </div>
            </div>
        </a>
        <!-- Card 4 -->
        <a href="Properties.html?property=casa-moderna" class="property-card" data-ubicacion="San Francisco" data-precio="280000">
            <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?auto=format&fit=crop&w=600&q=80"
                class="property-image" alt="Casa Moderna">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 280,000
                    </div>
                </div>
                <div class="property-title">Casa Moderna</div>
                <div class="property-desc">Diseño contemporáneo con acabados de lujo y tecnología smart home.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 3</span>
                    <span><i class="bi bi-badge-wc"></i> 3</span>
                    <span><i class="bi bi-aspect-ratio"></i> 250 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> San Francisco</span>
                    <span><i class="bi bi-calendar"></i> 2021</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 18</span>
                </div>
            </div>
        </a>
        <!-- Card 5 -->
        <a href="Properties.html?property=mansion-costa-del-este" class="property-card" data-ubicacion="Costa del Este" data-precio="750000">
            <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?auto=format&fit=crop&w=600&q=80"
                class="property-image" alt="Mansión Costa del Este">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 750,000
                        <span class="rebajado">Rebajado 8%</span>
                    </div>
                </div>
                <div class="property-title">Mansión Costa del Este</div>
                <div class="property-desc">Lujosa mansión con vista al mar, piscina infinita y garaje para 4 autos.
                </div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 6</span>
                    <span><i class="bi bi-badge-wc"></i> 7</span>
                    <span><i class="bi bi-aspect-ratio"></i> 580 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Costa del Este</span>
                    <span><i class="bi bi-calendar"></i> 2019</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 42</span>
                </div>
            </div>
        </a>
        <!-- Card 6 -->
        <a href="Properties.html?property=casa-familiar" class="property-card" data-ubicacion="Tumba Muerto" data-precio="180000">
            <img src="https://images.unsplash.com/photo-1570129477492-45c003edd2be?auto=format&fit=crop&w=600&q=80"
                class="property-image" alt="Casa Familiar">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 180,000
                    </div>
                </div>
                <div class="property-title">Casa Familiar</div>
                <div class="property-desc">Casa ideal para familias, con jardín amplio y zona de juegos.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 3</span>
                    <span><i class="bi bi-badge-wc"></i> 2</span>
                    <span><i class="bi bi-aspect-ratio"></i> 200 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Tumba Muerto</span>
                    <span><i class="bi bi-calendar"></i> 2017</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 15</span>
                </div>
            </div>
            </a>
        <!-- Card 7 -->
        <div class="property-card" data-ubicacion="Brisas Del Golf" data-precio="560900">
            <img src="https://cdn2.hubspot.net/hubfs/5264199/BLOG%202019/Apartamentos%20en%20Santa%20Maria/por%20que%20vivir%20en%20santa%20maria%20panama.jpg"
                class="property-image" alt="Apartamento en Brisas">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 560,900
                        <span class="rebajado">Rebajado 5%</span>
                    </div>
                </div>
                <div class="property-title">Apartamento Luz</div>
                <div class="property-desc">Apartamento de lujo con acabados premium y vistas panorámicas.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 5</span>
                    <span><i class="bi bi-badge-wc"></i> 4</span>
                    <span><i class="bi bi-aspect-ratio"></i> 459 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Brisas del Golf</span>
                    <span><i class="bi bi-calendar"></i> 2018</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 50</span>
                </div>
            </div>
        </div>
        <!-- Card 8 -->
        <div class="property-card" data-ubicacion="Costa Sur" data-precio="456980">
            <img src="https://pic.le-cdn.com/thumbs/520x390/190/1/properties/Property-432a94040e74dfefa114523e1e9bd005-128152370.jpg"
                class="property-image" alt="Apartamento Costa Sur">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 456,980
                        <span class="rebajado">Rebajado 4%</span>
                    </div>
                </div>
                <div class="property-title">Apartamento Sur</div>
                <div class="property-desc">Apartamento con bonita vista al mar.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 4</span>
                    <span><i class="bi bi-badge-wc"></i> 3</span>
                    <span><i class="bi bi-aspect-ratio"></i> 320 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Costa Sur</span>
                    <span><i class="bi bi-calendar"></i> 2021</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 68</span>
                </div>
            </div>
        </div>
        <!-- Card 9 -->
        <div class="property-card" data-ubicacion="Avenida Balboa" data-precio="568990">
            <img src="https://www.activentas.com/wp-content/uploads/2024/07/photo_server-4409.jpeg"
                class="property-image" alt="Propiedad San Francisco">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 568,990
                        <span class="rebajado">Rebajado 7%</span>
                    </div>
                </div>
                <div class="property-title">Propiedad Avenida Balboa</div>
                <div class="property-desc">Propiedad moderna con excelente ubicación y acabados de calidad.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 3</span>
                    <span><i class="bi bi-badge-wc"></i> 2</span>
                    <span><i class="bi bi-aspect-ratio"></i> 340 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Avenida Balboa</span>
                    <span><i class="bi bi-calendar"></i> 2019</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 30</span>
                </div>
            </div>
        </div>
        <!-- Card 10 -->
        <div class="property-card" data-ubicacion="Albrook" data-precio="795490">
            <img src="https://forestgate.procasapanama.com/wp-content/uploads/comprar-apartamento-en-Panama-1-1-1024x768.jpeg"
                class="property-image" alt="Propiedad Albrook">
            <div class="options"><i class="bi bi-three-dots"></i></div>
            <div class="property-content">
                <div class="property-header-row">
                    <div class="property-price">
                        B/. 795,490
                        <span class="rebajado">Rebajado 5%</span>
                    </div>
                </div>
                <div class="property-title">Apartamento en Albrook</div>
                <div class="property-desc">Apartamento moderno con excelente vista y acabados de lujo.</div>
                <div class="property-details-row">
                    <span><i class="bi bi-house"></i> 4</span>
                    <span><i class="bi bi-badge-wc"></i> 5</span>
                    <span><i class="bi bi-aspect-ratio"></i> 458 m²</span>
                </div>
                <div class="property-meta-row">
                    <span><i class="bi bi-geo-alt"></i> Albrook</span>
                    <span><i class="bi bi-calendar"></i> 2020</span>
                    <span class="interested"><i class="bi bi-heart-fill"></i> 58</span>
                </div>
            </div>
        </a>
     </div>
   

<!-- Footer -->
<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-brand">
            <span>Home Delight</span>
        </div>

        <div class="footer-section">
            <h3>Enlaces Rápidos</h3>
            <a href="AboutUs.html" aria-label="Sobre nosotros">About Us</a>
            <a href="ContactUs.html" aria-label="Contacto">Contact Us</a>
            <a href="Marketplace.html" aria-label="Marketplace">Marketplace</a>
            <a href="Pricing.html" aria-label="Precios">Precios</a>
        </div>

        <div class="footer-section">
            <h3>Servicios</h3>
            <a href="Marketplace.html" aria-label="Comprar">Comprar</a>
            <a href="Marketplace.html" aria-label="Alquilar">Alquilar</a>
            <a href="Marketplace.html" aria-label="Vender">Vender</a>
            <a href="ContactUs.html" aria-label="Contacto">Contacto</a>
        </div>

        <div class="footer-section">
            <h3>Lugares</h3>
            <a href="/panama" aria-label="Panamá">Panamá</a>
            <a href="/colon" aria-label="Colón">Colón</a>
            <a href="/panama-oeste" aria-label="Panamá Oeste">Panamá Oeste</a>
            <a href="/otras-ubicaciones" aria-label="Otras ubicaciones">Otras Ubicaciones</a>
        </div>
    </div>

    <div class="footer-bottom">
        <div class="policy-links">
            <a href="/privacy" aria-label="Política de privacidad">Privacidad</a>
            <a href="/terms" aria-label="Términos y condiciones">Términos</a>
            <a href="/cookies" aria-label="Política de cookies">Cookies</a>
            <a href="/legal" aria-label="Aviso legal">Legal</a>
        </div>

        <div class="copyright">
            © 2025 Home Delight. Todos los derechos reservados.
        </div>
    </div>
</footer>

<style>
    :root {
        --color-gold-2: #B9A160;
        --color-cream: #ECE8E2;
    }

    .site-footer {
        background: white;
        color: var(--color-gold-2);
        padding: 40px 24px 20px;
        margin-top: 40px;
    }

    .footer-content {
        display: flex;
        justify-content: space-between;
        gap: 40px;
        margin-bottom: 30px;
    }

    .footer-brand {
        display: flex;
        align-items: flex-start;
        font-weight: 600;
        font-size: 20px;
        margin-bottom: 20px;
    }

    .footer-section {
        display: flex;
        flex-direction: column;
        gap: 12px;
    }

    .footer-section h3 {
        font-size: calc(14px * 1.15);
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--color-gold-2);
    }

    .footer-section a {
        color: var(--color-gold-2);
        text-decoration: none;
        font-size: calc(14px * 1.15);
        transition: text-decoration 0.2s ease;
        opacity: 0.8;
    }

    .footer-section a:hover,
    .footer-section a:focus {
        text-decoration: underline;
        outline: 2px solid var(--color-gold-2);
        outline-offset: 2px;
        opacity: 1;
    }

    .footer-bottom {
        border-top: 1px solid rgba(185, 161, 96, 0.2);
        padding-top: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 16px;
    }

    .policy-links {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
    }

    .policy-links a {
        color: var(--color-gold-2);
        text-decoration: none;
        font-size: calc(14px * 1.15);
        transition: text-decoration 0.2s ease;
        opacity: 0.8;
    }

    .policy-links a:hover,
    .policy-links a:focus {
        text-decoration: underline;
        outline: 2px solid var(--color-gold-2);
        outline-offset: 2px;
        opacity: 1;
    }

    .copyright {
        font-size: calc(12px * 1.15);
        color: var(--color-gold-2);
        opacity: 0.8;
    }

    @media (max-width: 640px) {
        .site-footer {
            padding: 24px 20px 16px;
        }

        .footer-content {
            flex-direction: column;
            gap: 24px;
            margin-bottom: 20px;
        }

        .footer-brand {
            justify-content: center;
            margin-bottom: 16px;
        }

        .footer-section {
            text-align: center;
        }

        .footer-bottom {
            flex-direction: column;
            text-align: center;
            gap: 12px;
        }

        .policy-links {
            justify-content: center;
            gap: 16px;
        }
    }
</style>

<!-- Scripts -->
<script src="js/config.js"></script>
<script src="js/chatbot.js"></script>

<script>
    let isFixed = false;
    
    window.addEventListener('scroll', function() {
        const filters = document.querySelector('.filters');
        const cardsContainer = document.querySelector('.cards-container');
        const scrollTop = window.scrollY;
        
        if (scrollTop > 200 && !isFixed) {
            filters.style.position = 'fixed';
            filters.style.top = '80px'; // Ajusta según altura de tu navbar
            filters.style.left = '0';
            filters.style.right = '0';
            filters.style.zIndex = '999';
            filters.style.backgroundColor = 'white';
            filters.style.boxShadow = '0 4px 16px rgba(0, 0, 0, 0.2)';
            cardsContainer.style.marginTop = '120px';
            isFixed = true;
        } else if (scrollTop <= 200 && isFixed) {
            filters.style.position = '';
            filters.style.top = '';
            filters.style.left = '';
            filters.style.right = '';
            filters.style.zIndex = '';
            filters.style.backgroundColor = '';
            filters.style.boxShadow = '';
            cardsContainer.style.marginTop = '';
            isFixed = false;
        }
    });
    </script>

<script>
    let todasLasCards = [];
    
    // Función para hacer sticky (igual que antes)
    function hacerSticky() {
        const filters = document.querySelector('.filters');
        const cardsContainer = document.querySelector('.cards-container');
        
        window.addEventListener('scroll', function() {
            if (window.scrollY > 200) {
                filters.style.position = 'fixed';
                filters.style.top = '80px';
                filters.style.left = '0';
                filters.style.right = '0';
                filters.style.zIndex = '999';
                filters.style.backgroundColor = 'white';
                filters.style.boxShadow = '0 4px 16px rgba(0, 0, 0, 0.2)';
                cardsContainer.style.marginTop = '120px';
            } else {
                filters.style.position = '';
                filters.style.top = '';
                filters.style.left = '';
                filters.style.right = '';
                filters.style.zIndex = '';
                filters.style.backgroundColor = '';
                filters.style.boxShadow = '';
                cardsContainer.style.marginTop = '';
            }
        });
    }
    
    // Función mejorada para filtrar
    function filtrar() {
        const ubicacion = document.getElementById('filtroUbicacion').value;
        const precioMin = document.getElementById('filtroPrecioMin').value;
        const precioMax = document.getElementById('filtroPrecioMax').value;
        const tipo = document.getElementById('filtroTipo').value;
        
        console.log('Filtrando:', { ubicacion, precioMin, precioMax, tipo });
        
        let resultados = 0;
        
        todasLasCards.forEach(card => {
            let mostrar = true;
            
            // Filtro ubicación (más flexible)
            if (ubicacion) {
                const ubicacionCard = card.getAttribute('data-ubicacion');
                if (!ubicacionCard || !ubicacionCard.toLowerCase().includes(ubicacion.toLowerCase())) {
                    mostrar = false;
                }
            }
            
            // Filtro precio
            if (precioMin || precioMax) {
                const precioCard = parseInt(card.getAttribute('data-precio'));
                if (precioMin && precioCard < parseInt(precioMin)) mostrar = false;
                if (precioMax && precioCard > parseInt(precioMax)) mostrar = false;
            }
            
            // Filtro tipo (detectar automáticamente del título)
            if (tipo) {
                const titulo = card.querySelector('.property-title')?.textContent.toLowerCase() || '';
                let tipoCard = '';
                
                if (titulo.includes('casa') || titulo.includes('villa') || titulo.includes('mansión')) {
                    tipoCard = 'Casa';
                } else if (titulo.includes('apartamento')) {
                    tipoCard = 'Departamento';
                } else if (titulo.includes('ph')) {
                    tipoCard = 'PH';
                }
                
                if (tipoCard !== tipo) {
                    mostrar = false;
                }
            }
            
            // Mostrar u ocultar
            card.style.display = mostrar ? 'flex' : 'none';
            if (mostrar) resultados++;
        });
        
        console.log('Resultados encontrados:', resultados);
    }
    
    // Inicializar
    document.addEventListener('DOMContentLoaded', function() {
        // Capturar todas las cards
        todasLasCards = Array.from(document.querySelectorAll('.property-card'));
        console.log('Cards encontradas:', todasLasCards.length);
        
        // Debug: mostrar todas las ubicaciones
        todasLasCards.forEach(card => {
            console.log('Ubicación:', card.getAttribute('data-ubicacion'));
        });
        
        // Hacer sticky
        hacerSticky();
        
        // Agregar eventos a filtros
        document.getElementById('filtroUbicacion').addEventListener('change', filtrar);
        document.getElementById('filtroPrecioMin').addEventListener('input', filtrar);
        document.getElementById('filtroPrecioMax').addEventListener('input', filtrar);
        document.getElementById('filtroTipo').addEventListener('change', filtrar);
    });
    </script>
</body>

</html>